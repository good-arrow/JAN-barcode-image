# JAN-barcode-image
git test

## JAN Code のフォーマット
2種類あり、13桁の通常サイズと、8桁の簡易サイズがある。  
ここでは13桁の通常サイズのみ扱う。  
  
国コード(2桁) + メーカーコード(7桁) + 商品コード(3桁) + チェックデジット(1桁)  
バーコード全体の仕組みはこちらが詳しい。  
https://www.keyence.co.jp/ss/products/autoid/codereader/  

## チェックデジット(check digit)
**example:**  
 bofore: 491234567890  
 after: 4912345678904  

1. 右から奇数桁を合計して3倍 → 0+8+6+4+2+9）× 3 = **87**
2. 右から偶数桁を合計する → 9+7+5+3+1+4 = **29**
3. 1と2を合計する → 87+29 = **116**
4. 固定値=10 から「116」1の位を引く → 10-6 = **4**
5. 491234567890 に 4 を加えて **4912345678904** となる

## 画像パターン  
画像は JAN code を前後2つに分けて作成する。  
左が、国コードを含むメーカーコード  
右が、商品コード  
4 912345 | 678904  
  
レフトマージン(11桁) = 00000000000 (固定値)  
レフトガードバー(3桁) = 101 (固定値)  
左半分(7×6=42桁) = パターン表に合わせた2進数  
センターバー(5桁) = 01010 (固定値)  
右半分(7×6=42桁) = パターン表に合わせた2進数  
ライトガードバー(3桁) = 101 (固定値)  
ライトマージン(7桁) = 0000000 (固定値)  
  
上記を経て、2進数でバーパターンが表現される  
00000000000101000101101100110010011011110100111010111001010101010000100010010010001110100111001010111001010000000  
  
0を白、1を黒として画像で表現する。  
  
印刷画像サイズにも規定があり、印刷解像度に合わせた調整が必要となる可能性もあるので注意してください。  
  
あくまで github のプライベートテスト用です。  
